<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="700" viewBox="0 0 1000 700">
  <defs>
    <style>
      .actor { fill: none; stroke: #343a40; stroke-width: 2; }
      .actor-text { fill: #343a40; font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; font-weight: bold; }
      .use-case { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .use-case-text { fill: #1976d2; font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .system-boundary { fill: none; stroke: #666; stroke-width: 2; stroke-dasharray: 5,5; }
      .system-title { fill: #666; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
      .relationship { stroke: #666; stroke-width: 1.5; fill: none; }
      .title { fill: #343a40; font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .include-text { fill: #28a745; font-family: Arial, sans-serif; font-size: 9px; text-anchor: middle; font-style: italic; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="500" y="30" class="title">CodeSense AI - Use Case Diagram</text>
  
  <!-- System Boundary -->
  <rect x="200" y="80" width="600" height="550" class="system-boundary"/>
  <text x="500" y="100" class="system-title">CodeSense AI System</text>
  
  <!-- Actors -->
  
  <!-- Developer/User Actor -->
  <g id="developer">
    <!-- Head -->
    <circle cx="100" cy="200" r="15" class="actor"/>
    <!-- Body -->
    <line x1="100" y1="215" x2="100" y2="280" class="actor"/>
    <!-- Arms -->
    <line x1="70" y1="240" x2="130" y2="240" class="actor"/>
    <!-- Legs -->
    <line x1="100" y1="280" x2="80" y2="320" class="actor"/>
    <line x1="100" y1="280" x2="120" y2="320" class="actor"/>
    <text x="100" y="340" class="actor-text">Developer</text>
  </g>
  
  <!-- System Administrator Actor -->
  <g id="admin">
    <!-- Head -->
    <circle cx="100" cy="450" r="15" class="actor"/>
    <!-- Body -->
    <line x1="100" y1="465" x2="100" y2="530" class="actor"/>
    <!-- Arms -->
    <line x1="70" y1="490" x2="130" y2="490" class="actor"/>
    <!-- Legs -->
    <line x1="100" y1="530" x2="80" y2="570" class="actor"/>
    <line x1="100" y1="530" x2="120" y2="570" class="actor"/>
    <text x="100" y="590" class="actor-text">Admin</text>
  </g>
  
  <!-- External Systems Actor -->
  <g id="external">
    <!-- Head -->
    <circle cx="900" cy="300" r="15" class="actor"/>
    <!-- Body -->
    <line x1="900" y1="315" x2="900" y2="380" class="actor"/>
    <!-- Arms -->
    <line x1="870" y1="340" x2="930" y2="340" class="actor"/>
    <!-- Legs -->
    <line x1="900" y1="380" x2="880" y2="420" class="actor"/>
    <line x1="900" y1="380" x2="920" y2="420" class="actor"/>
    <text x="900" y="440" class="actor-text">External APIs</text>
    <text x="900" y="455" class="actor-text">(Gemini AI)</text>
  </g>
  
  <!-- Use Cases -->
  
  <!-- Authentication Use Cases -->
  <ellipse cx="320" cy="150" rx="60" ry="25" class="use-case"/>
  <text x="320" y="155" class="use-case-text">Register</text>
  
  <ellipse cx="450" cy="150" rx="60" ry="25" class="use-case"/>
  <text x="450" y="155" class="use-case-text">Login</text>
  
  <!-- Core Use Cases -->
  <ellipse cx="320" cy="220" rx="70" ry="25" class="use-case"/>
  <text x="320" y="225" class="use-case-text">Upload Code</text>
  
  <ellipse cx="500" cy="220" rx="70" ry="25" class="use-case"/>
  <text x="500" y="225" class="use-case-text">Write Code</text>
  
  <ellipse cx="410" cy="290" rx="80" ry="25" class="use-case"/>
  <text x="410" y="295" class="use-case-text">Analyze Code</text>
  
  <ellipse cx="320" cy="360" rx="70" ry="25" class="use-case"/>
  <text x="320" y="365" class="use-case-text">View Results</text>
  
  <ellipse cx="500" cy="360" rx="80" ry="25" class="use-case"/>
  <text x="500" y="365" class="use-case-text">Download Report</text>
  
  <!-- History and Management -->
  <ellipse cx="650" cy="220" rx="80" ry="25" class="use-case"/>
  <text x="650" y="225" class="use-case-text">View History</text>
  
  <ellipse cx="650" cy="290" rx="70" ry="25" class="use-case"/>
  <text x="650" y="295" class="use-case-text">Manage Profile</text>
  
  <!-- System Use Cases -->
  <ellipse cx="410" cy="450" rx="80" ry="25" class="use-case"/>
  <text x="410" y="455" class="use-case-text">Execute Code</text>
  
  <ellipse cx="550" cy="450" rx="80" ry="25" class="use-case"/>
  <text x="550" y="455" class="use-case-text">Generate AI Analysis</text>
  
  <ellipse cx="320" cy="520" rx="70" ry="25" class="use-case"/>
  <text x="320" y="525" class="use-case-text">Monitor System</text>
  
  <ellipse cx="500" cy="520" rx="80" ry="25" class="use-case"/>
  <text x="500" y="525" class="use-case-text">Manage Database</text>
  
  <!-- Relationships -->
  
  <!-- Developer relationships -->
  <line x1="130" y1="200" x2="260" y2="150" class="relationship"/>
  <line x1="130" y1="210" x2="390" y2="150" class="relationship"/>
  <line x1="130" y1="220" x2="250" y2="220" class="relationship"/>
  <line x1="130" y1="230" x2="430" y2="220" class="relationship"/>
  <line x1="130" y1="240" x2="330" y2="290" class="relationship"/>
  <line x1="130" y1="250" x2="250" y2="360" class="relationship"/>
  <line x1="130" y1="260" x2="420" y2="360" class="relationship"/>
  <line x1="130" y1="270" x2="570" y2="220" class="relationship"/>
  <line x1="130" y1="280" x2="580" y2="290" class="relationship"/>
  
  <!-- Admin relationships -->
  <line x1="130" y1="450" x2="250" y2="520" class="relationship"/>
  <line x1="130" y1="460" x2="420" y2="520" class="relationship"/>
  
  <!-- External API relationships -->
  <line x1="870" y1="320" x2="630" y2="450" class="relationship"/>
  
  <!-- Include relationships (system internal) -->
  <line x1="410" y1="315" x2="410" y2="425" class="relationship" stroke-dasharray="3,3"/>
  <text x="410" y="370" class="include-text">&lt;&lt;include&gt;&gt;</text>
  
  <line x1="490" y1="290" x2="550" y2="425" class="relationship" stroke-dasharray="3,3"/>
  <text x="520" y="360" class="include-text">&lt;&lt;include&gt;&gt;</text>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="620" width="300" height="70" fill="none" stroke="#666" stroke-width="1"/>
    <text x="200" y="640" class="system-title">Legend</text>
    
    <line x1="70" y1="655" x2="120" y2="655" class="relationship"/>
    <text x="130" y="660" class="use-case-text">Association</text>
    
    <line x1="70" y1="675" x2="120" y2="675" class="relationship" stroke-dasharray="3,3"/>
    <text x="130" y="680" class="include-text">&lt;&lt;include&gt;&gt;</text>
  </g>
  
</svg>
